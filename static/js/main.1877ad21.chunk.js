(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{29:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(17),a=n.n(r),s=(n(29),n(4)),o=n(9),l=n(10),d=n(14),u=n(15),j=n(11),b=n(18),h=function(e){void 0!=e&&(this._id=e._id,this.name=e.name,this.password=e.password,this.role=e.role)};var m={};fetch("https://trackmybugs-server.herokuapp.com/auth/").then((function(e){return e.json()})).then((function(e){var t,n=Object(b.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;m[c.name]=new h({_id:c._id,name:c.name,password:c.password,role:c.role})}}catch(i){n.e(i)}finally{n.f()}}));var g=Object(l.b)({name:"auth",initialState:{admin:"true"==localStorage.getItem("admin"),LoggedIn:"true"==localStorage.getItem("LoggedIn")},reducers:{signIn:function(e,t){var n=t.payload;!function(e,t,n){m.hasOwnProperty(t)?m[t].password==n?(localStorage.setItem("LoggedIn","true"),localStorage.setItem("admin","true"),e.LoggedIn="true"==localStorage.getItem("LoggedIn","true"),e.admin="true"==localStorage.getItem("admin","true")):alert("password incorrect"):alert("username not found. create an account")}(e,n.name,n.password)},signOut:function(e){localStorage.setItem("LoggedIn","false"),localStorage.setItem("admin","false"),e.LoggedIn="true"==localStorage.getItem("LoggedIn","true"),e.admin="true"==localStorage.getItem("admin","true")},createUser:function(e,t){}}}),p=g.reducer,O=g.actions,f=O.signIn,x=O.signOut,v=(O.createUser,n(35),n(0)),y=function(){var e=Object(s.b)(),t=Object(c.useState)({name:"",password:""}),n=Object(j.a)(t,2),i=n[0],r=n[1];function a(e){r(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(v.jsxs)("div",{className:"loginBG",children:[Object(v.jsxs)("form",{className:"login-panel",children:[Object(v.jsx)("h1",{children:"Login:"}),Object(v.jsx)("input",{name:"name",placeholder:"Name",onChange:a,value:i.name}),Object(v.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:a,value:i.password}),Object(v.jsx)("button",{type:"submit",onClick:function(t){e(f(i))},children:"Login"})]}),Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)("div",{children:"Bug Tracker v1.0"})})]})},w=n(12),k=n(3),C=(n(37),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})).auth;return Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)(w.b,{className:"nav-link",to:"/",children:Object(v.jsx)("div",{className:"brand",children:"Bug Tracker"})}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(w.b,{to:"/",className:"nav-link",children:"DashBoard"})}),Object(v.jsx)("li",{children:Object(v.jsx)(w.b,{to:"/viewbugs",className:"nav-link",children:"View Bugs"})}),t.admin&&Object(v.jsx)("li",{children:Object(v.jsx)(w.b,{to:"/create",className:"nav-link",children:"Create Bugs"})})]}),Object(v.jsx)("button",{className:"nav-link logout",onClick:function(){e(x())},children:"Log Out"})]})}),I=function(e){void 0!=e&&(this._id=e._id,this.name=e.name,this.details=e.details,this.steps=e.steps,this.version=e.version,this.priority=e.priority,this.assigned=e.assigned,this.creator=e.creator,this.time=e.time)};var N=[];fetch("https://trackmybugs-server.herokuapp.com/auth/bug").then((function(e){return e.json()})).then((function(e){var t,n=Object(b.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;N.push(new I({_id:parseInt(c._id),name:c.name,details:c.details,steps:c.steps,version:c.version,assigned:c.assigned,creator:c.creator,priority:parseInt(c.priority),time:c.time}))}}catch(i){n.e(i)}finally{n.f()}}));var S=Object(l.b)({name:"bug",initialState:[],reducers:{getBugs:function(e){return N.slice().sort((function(e,t){return e.priority-t.priority}))},createBugs:function(e,t){var n=t.payload,c=n.name,i=n.details,r=n.steps,a=n.version,s=(n.priority,n.assigned,n.creator,n.time),o=new I({_id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,name:c,details:i,steps:r,version:a,priority:1,assigned:"me",creator:"me",time:s}),l=[];for(var d in o){var u=encodeURIComponent(d),j=encodeURIComponent(o[d]);l.push(u+"="+j)}l=l.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l})},updateBugs:function(e,t){var n=t.payload,c=n._id,i=n.name,r=n.details,a=n.steps,s=n.version,o=(n.priority,n.assigned,n.creator,n.time),l=new I({_id:c,name:i,details:r,steps:a,version:s,priority:1,assigned:"me",creator:"me",time:o}),d=[];for(var u in l){var j=encodeURIComponent(u),b=encodeURIComponent(l[u]);d.push(j+"="+b)}d=d.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:d})},markComplete:function(e,t){var n=t.payload._id,c=[];c.push("_id="+encodeURIComponent(n)),c=c.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:c})}}}),B=S.reducer,L=S.actions,T=L.getBugs,_=L.createBugs,A=L.updateBugs,E=L.markComplete,U=["red","#e2cd32","green"],D=function(e){return{level:["High","Medium","Low"][e-1],color:U[e-1]}},F=(n(42),function(e){var t=D(e.priority),n=t.level,c=t.color;return Object(v.jsxs)("div",{className:"dashboard-card",onClick:e.clicked,style:{color:c},children:[Object(v.jsxs)("h2",{children:["Total: ",n]}),Object(v.jsx)("p",{children:e.count})]})}),M=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.bugs})),n=Object(k.f)(),i=0,r=0,a=0;function o(e){return t.filter((function(t){return t.priority==e}))}function l(){n.push("/viewbugs")}return void 0!=t&&(i=o(1),r=o(2),a=o(3)),Object(c.useEffect)((function(){e(T())}),[void 0==t]),Object(v.jsxs)("div",{className:"page-container",children:[Object(v.jsx)(F,{priority:"1",count:i.length,clicked:l}),Object(v.jsx)(F,{priority:"2",count:r.length,clicked:l}),Object(v.jsx)(F,{priority:"3",count:a.length,clicked:l})]})},P=(n(43),function(e){var t=e.bug,n=t.name,c=t.priority,i=t.version,r=D(c),a=r.level,s=r.color;return Object(v.jsxs)("div",{className:"bug-card",onClick:function(){e.clicked(n)},style:{color:s},children:[Object(v.jsx)("h2",{className:"name",children:n}),Object(v.jsx)("h4",{className:"priority",children:a}),Object(v.jsx)("h5",{className:"version",children:i})]})}),R=(n(44),function(e){return Object(v.jsxs)("div",{className:"view-section",children:[Object(v.jsx)("h2",{children:e.title}),Object(v.jsx)("p",{children:e.info})]})}),q=(n(45),function(e){return Object(v.jsxs)("div",{className:"edit-panel",children:[Object(v.jsx)("button",{onClick:e.editClicked,children:"Edit"}),Object(v.jsx)("button",{onClick:e.deleteClicked,children:"Delete"})]})}),V=(n(46),function(e){var t=Object(s.b)(),n=Object(c.useState)(new I(e.bug)),i=Object(j.a)(n,2),r=i[0],a=i[1];function o(e){a(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(v.jsxs)("div",{className:"bug-create",children:["Edit Bug"==e.title&&Object(v.jsx)("button",{onClick:e.clicked,className:"close-btn",children:"x"}),Object(v.jsx)("h1",{children:e.title}),Object(v.jsxs)("form",{children:[Object(v.jsx)("label",{children:"Name:"}),Object(v.jsx)("input",{name:"name",placeholder:"Bug Name",required:!0,onChange:o,value:r.name}),Object(v.jsx)("label",{children:"Details:"}),Object(v.jsx)("textarea",{name:"details",placeholder:"Detailed description on the bug",required:!0,onChange:o,value:r.details}),Object(v.jsx)("label",{children:"Steps:"}),Object(v.jsx)("textarea",{name:"steps",placeholder:"Steps to recreate the bug",required:!0,onChange:o,value:r.steps}),Object(v.jsx)("label",{children:"Priority:"}),Object(v.jsxs)("select",{name:"priority",required:!0,onChange:o,value:r.priority,children:[Object(v.jsx)("option",{value:"1",children:"High"}),Object(v.jsx)("option",{value:"2",children:"Mid"}),Object(v.jsx)("option",{value:"3",children:"Low"})]}),Object(v.jsx)("label",{children:"Assigned:"}),Object(v.jsx)("select",{name:"assigned",onChange:o,value:r.assigned,children:Object(v.jsx)("option",{children:"Andres Advincula"})}),Object(v.jsx)("label",{children:"Creator:"}),Object(v.jsx)("select",{name:"creator",onChange:o,value:r.creator,children:Object(v.jsx)("option",{children:"Andres Advincula"})}),Object(v.jsx)("label",{children:"Time:"}),Object(v.jsx)("textarea",{name:"time",placeholder:"Time when bug was found",required:!0,onChange:o,value:r.time}),Object(v.jsx)("label",{children:"Application Version:"}),Object(v.jsx)("input",{name:"version",placeholder:"Application Version",onChange:o,value:r.version}),Object(v.jsx)("button",{type:"submit",onClick:function(n){"Create Bug"==e.title?(t(_(r)),alert("bug created")):"Edit Bug"==e.title&&(t(A(r)),alert("bug edited"))},children:e.title})]})]})}),J=(n(47),function(e){var t=Object(s.b)(),n=new I(e.bug),i=Object(c.useState)(!1),r=Object(j.a)(i,2),a=r[0],o=r[1];function l(){o(!a)}return Object(v.jsxs)(v.Fragment,{children:[!a&&Object(v.jsxs)("div",{className:"bug-view",children:[Object(v.jsx)(q,{editClicked:l,deleteClicked:function(e){window.confirm("Are you sure you wish to delete this bug?")&&(t(E(n)),alert("bug deleted"),window.location.reload(!0))}}),Object(v.jsx)("button",{onClick:e.clicked,className:"close-btn",children:"x"}),Object(v.jsx)("h1",{children:n.name}),Object(v.jsx)(R,{title:"Details",info:n.details}),Object(v.jsx)(R,{title:"Steps",info:n.steps}),Object(v.jsx)(R,{title:"Priority",info:n.priority}),Object(v.jsx)(R,{title:"Creator",info:n.creator}),Object(v.jsx)(R,{title:"App Version",info:n.version}),Object(v.jsx)(R,{title:"Time Created",info:n.time})]}),a&&Object(v.jsx)(V,{clicked:l,title:"Edit Bug",bug:n})]})}),G=function(){var e=Object(c.useState)({name:"",isDisplayed:!1}),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(s.b)(),a=Object(s.c)((function(e){return e})).bugs;function o(e){i({isDisplayed:!n.isDisplayed,name:e})}return Object(c.useEffect)((function(){r(T())}),[a.length<1]),Object(v.jsxs)("div",{className:"page-container",children:[!n.isDisplayed&&a.map((function(e,t){return Object(v.jsx)(P,{bug:e,clicked:o},t)})),n.isDisplayed&&Object(v.jsx)(J,{clicked:o,bug:a.filter((function(e){return e.name==n.name}))[0]})]})};var H=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(v.jsx)(w.a,{children:e.LoggedIn?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(C,{}),Object(v.jsxs)(k.c,{children:[Object(v.jsx)(k.a,{path:"/",exact:!0,children:Object(v.jsx)(M,{})}),Object(v.jsx)(k.a,{path:"/viewbugs",children:Object(v.jsx)(G,{})}),Object(v.jsx)(k.a,{path:"/create",children:Object(v.jsx)("div",{className:"page-container",children:Object(v.jsx)(V,{title:"Create Bug"})})})]})]}):Object(v.jsx)(y,{})})},X=Object(l.b)({name:"user",initialState:[{}],reducers:{getUser:function(e){e.push({name:"Andres Advincula"}),e.push({name:"John Smith"})}}}),z=X.reducer,K=(X.actions.getUser,localStorage.getItem("LoggedIn"));void 0!==K&&null!==K||(localStorage.setItem("LoggedIn","false"),localStorage.setItem("admin","false"));var Q=Object(o.b)({auth:p,bugs:B,user:z}),W=Object(l.a)({reducer:Q});a.a.render(Object(v.jsx)(s.a,{store:W,children:Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(H,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1877ad21.chunk.js.map