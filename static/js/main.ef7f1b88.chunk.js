(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{23:function(e,t,n){},30:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(17),a=n.n(i),s=(n(30),n(4)),o=n(11),l=n(14),d=n(13),j=n(12),u=n(10),b=n(9),h=n(18),m=function(e){void 0!=e&&(this._id=e._id,this.name=e.name,this.password=e.password,this.role=e.role)};var g={};fetch("https://trackmybugs-server.herokuapp.com/auth/").then((function(e){return e.json()})).then((function(e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;g[c.name]=new m({_id:c._id,name:c.name,password:c.password,role:c.role})}}catch(r){n.e(r)}finally{n.f()}}));var p=Object(l.b)({name:"auth",initialState:{admin:"true"==localStorage.getItem("admin"),LoggedIn:"true"==localStorage.getItem("LoggedIn")},reducers:{signIn:function(e,t){var n=t.payload;!function(e,t,n){g.hasOwnProperty(t)?g[t].password==n?(localStorage.setItem("LoggedIn","true"),localStorage.setItem("admin","true"),e.LoggedIn="true"==localStorage.getItem("LoggedIn","true"),e.admin="true"==localStorage.getItem("admin","true")):alert("password incorrect"):alert("username not found. create an account")}(e,n.name,n.password)},signOut:function(e){localStorage.setItem("LoggedIn","false"),localStorage.setItem("admin","false"),e.LoggedIn="true"==localStorage.getItem("LoggedIn","true"),e.admin="true"==localStorage.getItem("admin","true")},createUser:function(e,t){}}}),O=p.reducer,x=p.actions,f=x.signIn,v=x.signOut,y=(x.createUser,n(23),n(0)),w=function(){var e=Object(s.b)(),t=Object(c.useState)({name:"",password:""}),n=Object(u.a)(t,2),r=n[0],i=n[1];function a(e){i(Object(j.a)(Object(j.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(y.jsxs)("div",{className:"loginBG",children:[Object(y.jsxs)("form",{className:"login-panel",children:[Object(y.jsx)("h1",{children:"Login:"}),Object(y.jsx)("input",{name:"name",placeholder:"Name",onChange:a,value:r.name}),Object(y.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:a,value:r.password}),Object(y.jsx)("button",{type:"submit",onClick:function(t){e(f(r))},children:"Login"}),Object(y.jsx)(b.b,{to:"/register",children:"Register"})]}),Object(y.jsx)("footer",{className:"footer",children:Object(y.jsx)("div",{children:"Bug Tracker v1.1"})})]})},k=function(){var e=Object(c.useState)({name:"",password:""}),t=Object(u.a)(e,2),n=t[0],r=t[1];function i(e){r(Object(j.a)(Object(j.a)({},n),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(y.jsxs)("div",{className:"loginBG",children:[Object(y.jsxs)("form",{className:"login-panel",children:[Object(y.jsx)("h1",{children:"Login:"}),Object(y.jsx)("input",{name:"name",placeholder:"Name",onChange:i,value:n.name}),Object(y.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:i,value:n.password}),Object(y.jsx)("button",{type:"submit",onClick:function(e){},children:Object(y.jsx)(b.b,{to:"/",children:"Register"})})]}),Object(y.jsx)("footer",{className:"footer",children:Object(y.jsx)("div",{children:"Bug Tracker v1.0"})})]})},C=n(3),I=(n(41),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})).auth;return Object(y.jsxs)("div",{className:"sidebar",children:[Object(y.jsx)(b.b,{className:"nav-link",to:"/",children:Object(y.jsx)("div",{className:"brand",children:"Bug Tracker"})}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)(b.b,{to:"/",className:"nav-link",children:"DashBoard"})}),Object(y.jsx)("li",{children:Object(y.jsx)(b.b,{to:"/viewbugs",className:"nav-link",children:"View Bugs"})}),t.admin&&Object(y.jsx)("li",{children:Object(y.jsx)(b.b,{to:"/create",className:"nav-link",children:"Create Bugs"})}),Object(y.jsx)("li",{})]}),Object(y.jsx)("button",{className:"nav-link logout",onClick:function(){e(v())},children:"Log Out"})]})}),N=function(e){void 0!=e&&(this._id=e._id,this.name=e.name,this.details=e.details,this.steps=e.steps,this.version=e.version,this.priority=e.priority,this.assigned=e.assigned,this.creator=e.creator,this.time=e.time)};var S=[];fetch("https://trackmybugs-server.herokuapp.com/auth/bug").then((function(e){return e.json()})).then((function(e){var t,n=Object(h.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;S.push(new N({_id:parseInt(c._id),name:c.name,details:c.details,steps:c.steps,version:c.version,assigned:c.assigned,creator:c.creator,priority:parseInt(c.priority),time:c.time}))}}catch(r){n.e(r)}finally{n.f()}}));var B=Object(l.b)({name:"bug",initialState:[],reducers:{getBugs:function(e){return S.slice().sort((function(e,t){return e.priority-t.priority}))},createBugs:function(e,t){var n=t.payload,c=n.name,r=n.details,i=n.steps,a=n.version,s=(n.priority,n.assigned,n.creator,n.time),o=new N({_id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)+1,name:c,details:r,steps:i,version:a,priority:1,assigned:"me",creator:"me",time:s}),l=[];for(var d in o){var j=encodeURIComponent(d),u=encodeURIComponent(o[d]);l.push(j+"="+u)}l=l.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l})},updateBugs:function(e,t){var n=t.payload,c=n._id,r=n.name,i=n.details,a=n.steps,s=n.version,o=(n.priority,n.assigned,n.creator,n.time),l=new N({_id:c,name:r,details:i,steps:a,version:s,priority:1,assigned:"me",creator:"me",time:o}),d=[];for(var j in l){var u=encodeURIComponent(j),b=encodeURIComponent(l[j]);d.push(u+"="+b)}d=d.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:d})},markComplete:function(e,t){var n=t.payload._id,c=[];c.push("_id="+encodeURIComponent(n)),c=c.join("&");fetch("https://trackmybugs-server.herokuapp.com/auth/bug",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:c})}}}),L=B.reducer,T=B.actions,_=T.getBugs,A=T.createBugs,E=T.updateBugs,U=T.markComplete,D=["red","#e2cd32","green"],R=function(e){return{level:["High","Medium","Low"][e-1],color:D[e-1]}},F=(n(42),function(e){var t=R(e.priority),n=t.level,c=t.color;return Object(y.jsxs)("div",{className:"dashboard-card",onClick:e.clicked,style:{color:c},children:[Object(y.jsxs)("h2",{children:["Total: ",n]}),Object(y.jsx)("p",{children:e.count})]})}),P=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.bugs})),n=Object(C.f)(),r=0,i=0,a=0;function o(e){return t.filter((function(t){return t.priority==e}))}function l(){n.push("/viewbugs")}return void 0!=t&&(r=o(1),i=o(2),a=o(3)),Object(c.useEffect)((function(){e(_())}),[void 0==t]),Object(y.jsxs)("div",{className:"page-container",children:[Object(y.jsx)(F,{priority:"1",count:r.length,clicked:l}),Object(y.jsx)(F,{priority:"2",count:i.length,clicked:l}),Object(y.jsx)(F,{priority:"3",count:a.length,clicked:l})]})},M=(n(43),function(e){var t=e.bug,n=t.name,c=t.priority,r=t.version,i=R(c),a=i.level,s=i.color;return Object(y.jsxs)("div",{className:"bug-card",onClick:function(){e.clicked(n)},style:{color:s},children:[Object(y.jsx)("h2",{className:"name",children:n}),Object(y.jsx)("h4",{className:"priority",children:a}),Object(y.jsx)("h5",{className:"version",children:r})]})}),q=(n(44),function(e){return Object(y.jsxs)("div",{className:"view-section",children:[Object(y.jsx)("h2",{children:e.title}),Object(y.jsx)("p",{children:e.info})]})}),V=(n(45),function(e){return Object(y.jsxs)("div",{className:"edit-panel",children:[Object(y.jsx)("button",{onClick:e.editClicked,children:"Edit"}),Object(y.jsx)("button",{onClick:e.deleteClicked,children:"Delete"})]})}),G=(n(46),function(e){var t=Object(s.b)(),n=Object(c.useState)(new N(e.bug)),r=Object(u.a)(n,2),i=r[0],a=r[1];function o(e){a(Object(j.a)(Object(j.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(y.jsxs)("div",{className:"bug-create",children:["Edit Bug"==e.title&&Object(y.jsx)("button",{onClick:e.clicked,className:"close-btn",children:"x"}),Object(y.jsx)("h1",{children:e.title}),Object(y.jsxs)("form",{children:[Object(y.jsx)("label",{children:"Name:"}),Object(y.jsx)("input",{name:"name",placeholder:"Bug Name",required:!0,onChange:o,value:i.name}),Object(y.jsx)("label",{children:"Details:"}),Object(y.jsx)("textarea",{name:"details",placeholder:"Detailed description on the bug",required:!0,onChange:o,value:i.details}),Object(y.jsx)("label",{children:"Steps:"}),Object(y.jsx)("textarea",{name:"steps",placeholder:"Steps to recreate the bug",required:!0,onChange:o,value:i.steps}),Object(y.jsx)("label",{children:"Priority:"}),Object(y.jsxs)("select",{name:"priority",required:!0,onChange:o,value:i.priority,children:[Object(y.jsx)("option",{value:"1",children:"High"}),Object(y.jsx)("option",{value:"2",children:"Mid"}),Object(y.jsx)("option",{value:"3",children:"Low"})]}),Object(y.jsx)("label",{children:"Assigned:"}),Object(y.jsx)("select",{name:"assigned",onChange:o,value:i.assigned,children:Object(y.jsx)("option",{children:"Andres Advincula"})}),Object(y.jsx)("label",{children:"Creator:"}),Object(y.jsx)("select",{name:"creator",onChange:o,value:i.creator,children:Object(y.jsx)("option",{children:"Andres Advincula"})}),Object(y.jsx)("label",{children:"Time:"}),Object(y.jsx)("textarea",{name:"time",placeholder:"Time when bug was found",required:!0,onChange:o,value:i.time}),Object(y.jsx)("label",{children:"Application Version:"}),Object(y.jsx)("input",{name:"version",placeholder:"Application Version",onChange:o,value:i.version}),Object(y.jsx)("button",{type:"submit",onClick:function(n){"Create Bug"==e.title?(t(A(i)),alert("bug created")):"Edit Bug"==e.title&&(t(E(i)),alert("bug edited"))},children:e.title})]})]})}),J=(n(47),function(e){var t=Object(s.b)(),n=new N(e.bug),r=Object(c.useState)(!1),i=Object(u.a)(r,2),a=i[0],o=i[1];function l(){o(!a)}return Object(y.jsxs)(y.Fragment,{children:[!a&&Object(y.jsxs)("div",{className:"bug-view",children:[Object(y.jsx)(V,{editClicked:l,deleteClicked:function(e){window.confirm("Are you sure you wish to delete this bug?")&&(t(U(n)),alert("bug deleted"),window.location.reload(!0))}}),Object(y.jsx)("button",{onClick:e.clicked,className:"close-btn",children:"x"}),Object(y.jsx)("h1",{children:n.name}),Object(y.jsx)(q,{title:"Details",info:n.details}),Object(y.jsx)(q,{title:"Steps",info:n.steps}),Object(y.jsx)(q,{title:"Priority",info:n.priority}),Object(y.jsx)(q,{title:"Creator",info:n.creator}),Object(y.jsx)(q,{title:"App Version",info:n.version}),Object(y.jsx)(q,{title:"Time Created",info:n.time})]}),a&&Object(y.jsx)(G,{clicked:l,title:"Edit Bug",bug:n})]})}),H=function(){var e=Object(c.useState)({name:"",isDisplayed:!1}),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(s.b)(),a=Object(s.c)((function(e){return e})).bugs;function o(e){r({isDisplayed:!n.isDisplayed,name:e})}return Object(c.useEffect)((function(){i(_())}),[a.length<1]),Object(y.jsxs)("div",{className:"page-container",children:[!n.isDisplayed&&a.map((function(e,t){return Object(y.jsx)(M,{bug:e,clicked:o},t)})),n.isDisplayed&&Object(y.jsx)(J,{clicked:o,bug:a.filter((function(e){return e.name==n.name}))[0]})]})};var X=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(y.jsx)(b.a,{children:e.LoggedIn?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{}),Object(y.jsxs)(C.c,{children:[Object(y.jsx)(C.a,{path:"/",exact:!0,children:Object(y.jsx)(P,{})}),Object(y.jsx)(C.a,{path:"/viewbugs",children:Object(y.jsx)(H,{})}),Object(y.jsx)(C.a,{path:"/create",children:Object(y.jsx)("div",{className:"page-container",children:Object(y.jsx)(G,{title:"Create Bug"})})})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C.a,{exact:!0,path:"/",children:Object(y.jsx)(w,{})}),Object(y.jsx)(C.a,{path:"/register",children:Object(y.jsx)(k,{})})]})})},z=Object(l.b)({name:"user",initialState:[{}],reducers:{getUser:function(e){e.push({name:"Andres Advincula"}),e.push({name:"John Smith"})}}}),K=z.reducer,Q=(z.actions.getUser,localStorage.getItem("LoggedIn"));void 0!==Q&&null!==Q||(localStorage.setItem("LoggedIn","false"),localStorage.setItem("admin","false"));var W=Object(o.b)({auth:O,bugs:L,user:K}),Y=Object(l.a)({reducer:W});a.a.render(Object(y.jsx)(s.a,{store:Y,children:Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(X,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ef7f1b88.chunk.js.map